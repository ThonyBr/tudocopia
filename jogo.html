<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Jogo de Mem√≥ria - Comida Saud√°vel</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-top: 30px;
      background-color: #f8fff8;
    }

    h1 {
      color: #2b7a0b;
    }

    p {
      font-size: 18px;
      color: #333;
    }

    button {
      padding: 10px 20px;
      margin-top: 20px;
      font-size: 16px;
      cursor: pointer;
      background-color: #4caf50;
      color: white;
      border: none;
      border-radius: 6px;
      transition: 0.3s;
    }

    button:hover {
      background-color: #45a049;
    }

    .game-board {
      display: grid;
      gap: 10px;
      margin-top: 20px;
      justify-content: center;
    }

    .card {
      width: 100px;
      height: 100px;
      background-color: #e0f7e9;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      border-radius: 10px;
      box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.15);
      transition: transform 0.3s;
    }

    .card:hover {
      transform: scale(1.05);
    }

    .card img {
      width: 80%;
      height: 80%;
      display: none;
      border-radius: 8px;
    }

    .card.flipped img {
      display: block;
    }
  </style>
</head>
<body>
  <h1>Jogo de Mem√≥ria - Comida Saud√°vel üçé</h1>
  <p>Combine as imagens e descubra alimentos saud√°veis!</p>
  
  <div id="game-board" class="game-board"></div>
  
  <button id="start-btn">Come√ßar Jogo</button>
  
  <script>
    // URLs diretas de imagens de alimentos saud√°veis
    const foodImages = [
      "https://cdn-icons-png.flaticon.com/512/415/415733.png", // Ma√ß√£
      "https://cdn-icons-png.flaticon.com/512/415/415744.png", // Cenoura
      "https://cdn-icons-png.flaticon.com/512/415/415762.png", // Banana
      "https://cdn-icons-png.flaticon.com/512/415/415747.png", // Alface
      "https://cdn-icons-png.flaticon.com/512/415/415754.png", // Abacate
      "https://cdn-icons-png.flaticon.com/512/415/415763.png", // Pepino
      "https://cdn-icons-png.flaticon.com/512/415/415735.png", // Morango
      "https://cdn-icons-png.flaticon.com/512/415/415729.png"  // Laranja
    ];

    let currentPhase = 1;
    let flippedCards = [];
    let matchedPairs = 0;
    const gameBoard = document.getElementById("game-board");
    const startButton = document.getElementById("start-btn");

    // Fun√ß√£o que define o n√∫mero de cartas por fase
    function getCardsForPhase(phase) {
      if (phase === 1) return 4; // 2 pares
      if (phase === 2) return 6; // 3 pares
      return 8; // 4 pares
    }

    // Carrega e embaralha as imagens para a fase
    function loadImages(phase) {
      let totalCards = getCardsForPhase(phase);
      let selectedImages = foodImages.slice(0, totalCards / 2);
      let shuffledImages = [...selectedImages, ...selectedImages];
      shuffledImages.sort(() => Math.random() - 0.5);
      return shuffledImages;
    }

    // Cria o tabuleiro
    function createBoard(images) {
      gameBoard.innerHTML = "";
      const columns = Math.ceil(Math.sqrt(images.length));
      gameBoard.style.gridTemplateColumns = `repeat(${columns}, 100px)`;

      images.forEach(image => {
        const card = document.createElement("div");
        card.classList.add("card");
        
        const img = document.createElement("img");
        img.src = image;
        card.appendChild(img);
        
        card.addEventListener("click", () => flipCard(card, image));
        gameBoard.appendChild(card);
      });
    }

    // Vira uma carta
    function flipCard(card, image) {
      if (flippedCards.length === 2 || card.classList.contains("flipped")) return;

      card.classList.add("flipped");
      flippedCards.push({ card, image });

      if (flippedCards.length === 2) checkMatch();
    }

    // Verifica se h√° combina√ß√£o
    function checkMatch() {
      const [first, second] = flippedCards;

      if (first.image === second.image) {
        matchedPairs++;
        flippedCards = [];

        const neededPairs = getCardsForPhase(currentPhase) / 2;
        if (matchedPairs === neededPairs) {
          setTimeout(() => {
            alert(`üéâ Parab√©ns! Voc√™ completou a Fase ${currentPhase}!`);
            nextPhase();
          }, 500);
        }
      } else {
        setTimeout(() => {
          first.card.classList.remove("flipped");
          second.card.classList.remove("flipped");
          flippedCards = [];
        }, 1000);
      }
    }

    // Avan√ßa de fase
    function nextPhase() {
      if (currentPhase < 3) {
        currentPhase++;
        matchedPairs = 0;
        startGame();
      } else {
        alert("üèÜ Parab√©ns! Voc√™ completou todas as fases e aprendeu sobre comidas saud√°veis!");
        startButton.style.display = "block";
        currentPhase = 1;
      }
    }

    // Inicia o jogo
    function startGame() {
      const images = loadImages(currentPhase);
      flippedCards = [];
      matchedPairs = 0;
      createBoard(images);
    }

    // Evento de clique no bot√£o iniciar
    startButton.addEventListener("click", () => {
      startButton.style.display = "none";
      startGame();
    });
  </script>
</body>
</html>
